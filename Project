import java.util.ArrayList;
import java.util.Scanner;
import java.io.*;

public class Project{

	public static void main(String[] args) throws IOException{
		BufferedReader reader = new BufferedReader(new FileReader("book.txt"));
		BufferedWriter writer = new BufferedWriter(new FileWriter("book.txt", true));
		Scanner sc = new Scanner(System.in);
		System.out.println("Enter 1 for borrower or 2 for Librarian");
		Boolean borrower = false;
		Boolean librarian = false;
		int x = sc.nextInt();
		if(x == 1){
			borrower = true;
		}else if(x == 2){
			librarian = true;
		}
		if(borrower){
			System.out.println("Enter 1 to browse books, 2 to check availability, 3 to checkout a book, or 4 to return a book");
			int bor = sc.nextInt();
			if (bor == 1){
				System.out.println("Enter the category you wish to search");
				
		}
		
		if(librarian){
			System.out.println("Enter 1 for entering a book, 2 for removing a book, or 3 for checking borrow history");
			int lib = sc.nextInt();
			if (lib == 1){
				System.out.println("Enter the parameters of the book");
				System.out.println("Enter the ISBN ID of the book");
				int isbn = sc.nextInt();
				String z = sc.nextLine(); /*extra because it bugs for some reason without*/
				System.out.println("Enter the title of the book");
				String ttitle = sc.nextLine();
				System.out.println("Enter the author of the book");
				String author = "Bob";
				System.out.println("Enter the category of the book");
				String category = sc.nextLine();
				System.out.println("Enter the status of the book");
				String status = sc.nextLine();
				Book b = new Book(isbn,ttitle,author,category,status);
				writer.newLine();
				writer.append(b.toString());
			}
			
			if (lib == 2){
				BufferedWriter removalWriter = new BufferedWriter(new FileWriter("temp.txt", false));
				System.out.println("What is the ISBN ID of the book you wish to remove?");
				String removalISBN = "ISBN ID: \"" + sc.nextInt();
				String keepLine;
				while((keepLine = reader.readLine()) != null){
					if (keepLine.contains(removalISBN) == false){
						removalWriter.append(keepLine);
						removalWriter.newLine();
					}
				}
				removalWriter.close();
				BufferedReader tempReader = new BufferedReader(new FileReader("temp.txt"));
				BufferedWriter removalWriter2 = new BufferedWriter(new FileWriter("book.txt", false));
				String newLine;
				while((newLine = tempReader.readLine()) != null){
					removalWriter2.append(newLine);
					removalWriter2.newLine();
				}
				removalWriter2.close();
				tempReader.close();
				
				System.out.println("The book has been removed");
			}
			
			if (lib == 3){
				
			}
		}
		reader.close();
		writer.close();
		sc.close();

	}
}
